/*******************************************
 * Copyright Â© 2017 Galaxy Software Services
 *
 * vital-ui-kit, v0.0.6
 * UI Kit for GSS Vital Family
 *
 * By Neil Lin (https://github.com/Neil-Lin),Patric,Laura Lee (https://github.com/l443018),Eric Yip (https://github.com/ericyip),Vibrissa (https://github.com/Vibrissa),YuRu Lee (https://github.com/YuRu-Lee),CJies Tan (https://github.com/cjies),Evan Wu (https://github.com/evanwu-tw)
 *
 * License: MIT
 *
 ******************************************/
"use strict";if("undefined"==typeof jQuery)throw new Error("Sooge UI's JavaScript requires jQuery");var sg=window.sg={},PREFIX="sg",STATE_PREFIX="sg-state",_PREFIX=".sg",_STATE_PREFIX=".sg-state";sg.options={},sg.initializeLayout=function(){var e=$(_PREFIX+"-fn-body__inner");return 0!==e.length&&(e.css("display","none"),e.css("height",$(_PREFIX+"-fn-body").outerHeight()),e[0].style.display=""),this},sg.initializeEvents=function(){return $(window).on("resize",function(){sg.onWindowResize()}),this},sg.initializeInput=function(){return $(document).on("click",function(e){0==$(e.target).closest(_PREFIX+"-dropdown-toggle").length&&($(_PREFIX+"-dropdown-menu").parent().removeClass("open"),$(_PREFIX+"-dropdown-menu").attr("aria-expanded","false"))}),$(document).on("click",_PREFIX+"-interbtn--mainbtn",function(){$("#hero-card").addClass(PREFIX+"-card--mask"),$("#interbtn-area").addClass(STATE_PREFIX+"--selected")}),$(document).on("click",_PREFIX+"-interbtn--subtn",function(){$("#hero-card").removeClass(PREFIX+"-card--mask"),$("#interbtn-area").removeClass(STATE_PREFIX+"--selected")}),$(document).on("click",'[data-toggle="dropdown"]',function(){var e="true"!=$(this).attr("aria-expanded");$(this).parent().toggleClass("open"),$(this).attr("aria-expanded",e)}),$(document).on("click",'[data-toggle="dropdown"] + '+_PREFIX+"-dropdown-menu",function(e){e.stopPropagation()}),$(document).on("click",_PREFIX+"-input-item."+STATE_PREFIX+"--icon-clear",function(){var e=$(this);e.children("input").val(""),e.removeClass(STATE_PREFIX+"--has-input")}),$(_PREFIX+"-input").on("keyup",function(){var e=$(this),t=e.closest(_PREFIX+"-input-item");""!==e.val()?t.addClass(STATE_PREFIX+"--has-input"):t.removeClass(STATE_PREFIX+"--has-input")}),this},sg.initializeComponents=function(){function e(){$('input[name="checkbox-table"]:checked').length==$('input[name="checkbox-table"]').length?$("#checkbox-table-all").prop("checked","checked"):$("#checkbox-table-all").removeAttr("checked")}$("#checkbox-table-all").change(function(){var e=$(this).closest(_PREFIX+"-table").find('input[name="checkbox-table"]:checkbox');$(this).is(":checked")?e.prop("checked","checked"):e.removeAttr("checked")}),$('input[name="checkbox-table"]').change(function(){e(),$('input[name="checkbox-table"]:checked')?$(this).parents("tr").removeClass(PREFIX+"-selected"):$(this).parents("tr").addClass(PREFIX+"-selected")});var t=$("table"),n=0;return t.find("tbody").on("change","input",function(){var e=$(this).closest("td");e[0].cellIndex===n&&(e.closest("tr").toggleClass(PREFIX+"-selected",this.checked),t.trigger("updateCell",[e[0]]))}),t.find("thead input").on("change",function(){var e=this.checked;t.find("tbody tr").each(function(){$(this).find("td:eq("+n+") input").prop("checked",e).trigger("change")})}),$("#myModal").appendTo("body"),$(_PREFIX+"-card-footer-btn--primary").on("click",function(){$("#myModal").modal("hide")}),function(e,t){function n(t,n){n=n||{};var i=this,o=n.query||"> :even";e.extend(i,{$el:t,options:n,sections:[],isAccordion:n.accordion||!1,db:!!n.persist&&jQueryCollapseStorage(t.get(0).id)}),i.states=i.db?i.db.read():[],i.$el.find(o).each(function(){new jQueryCollapseSection(e(this),i)}),function(t){i.$el.on("click","[data-collapse-summary] "+(t.options.clickQuery||""),e.proxy(i.handleClick,t)),i.$el.bind("toggle close open",e.proxy(i.handleEvent,t))}(i)}function i(t,n){n.options.clickQuery||t.wrapInner('<a href="#"/>'),e.extend(this,{isOpen:!1,$summary:t.attr("data-collapse-summary",""),$details:t.next(),options:n.options,parent:n}),n.sections.push(this);var i=n.states[this._index()];0===i?this.close(!0):this.$summary.is(".open")||1===i?this.open(!0):this.close(!0)}n.prototype={handleClick:function(t,n){t.preventDefault(),n=n||"toggle";for(var i=this.sections,o=i.length;o--;)if(e.contains(i[o].$summary[0],t.target)){i[o][n]();break}},handleEvent:function(e){return e.target==this.$el.get(0)?this[e.type]():void this.handleClick(e,e.type)},open:function(e){this._change("open",e)},close:function(e){this._change("close",e)},toggle:function(e){this._change("toggle",e)},_change:function(t,n){return isFinite(n)?this.sections[n][t]():void e.each(this.sections,function(e,n){n[t]()})}},i.prototype={toggle:function(){this.isOpen?this.close():this.open()},close:function(e){this._changeState("close",e)},open:function(t){var n=this;n.options.accordion&&!t&&e.each(n.parent.sections,function(e,t){t.close()}),n._changeState("open",t)},_index:function(){return e.inArray(this,this.parent.sections)},_changeState:function(t,n){var i=this;i.isOpen="open"==t,e.isFunction(i.options[t])&&!n?i.options[t].apply(i.$details):i.$details[i.isOpen?"show":"hide"](),i.$summary.toggleClass("open","close"!==t),i.$details.attr("aria-hidden","close"===t),i.$summary.attr("aria-expanded","open"===t),i.$summary.trigger("open"===t?"opened":"closed",i),i.parent.db&&i.parent.db.write(i._index(),i.isOpen)}},e.fn.extend({sgCollapse:function(t,i){var o=i?e("body").find("[data-"+PREFIX+"-collapse]"):e(this);return o.each(function(){var o=i?{}:t,s=e(this).attr("data-"+PREFIX+"-collapse")||"";e.each(s.split(" "),function(e,t){t&&(o[t]=!0)}),new n(e(this),o)})}}),t.jQueryCollapse=n,t.jQueryCollapseSection=i,e(function(){e.fn.sgCollapse(!1,!0)})}(window.jQuery,window),this},sg.onWindowResize=function(){return setTimeout(function(){var e=$(_PREFIX+"-fn-body__inner");0!==e.length&&(e.css("display","none"),e.css("height",$(_PREFIX+"-fn-body").outerHeight()),e[0].style.display="")},200),this},function(){sg.initializeComponents().initializeEvents().initializeInput().initializeLayout()}();